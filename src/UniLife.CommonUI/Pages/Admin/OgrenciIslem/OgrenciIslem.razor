@page "/admin/ogrenci_islem"
@using Syncfusion.Blazor.Navigations
@using UniLife.CommonUI.Pages.Admin.OgrenciIslem.OgrenciIslemTabs
@using UniLife.Shared.Dto.Definitions
@*@attribute [Authorize(Policy = Policies.IsAdmin)]*@

<div class="control-section e-tab-section">
    <SfTab @ref="Tab" LoadOn="ContentLoad.Dynamic">
        @*Selected="OnTabSelected" Selecting="OnTabSelecting"*@
        <TabEvents Created="TabCreate" Selecting="OnTabSelecting"></TabEvents>
        <TabItems>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Öğrenciler"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <Ogrenciler OgrenciToAkademik="OgrenciToAkademik"></Ogrenciler>
                </ContentTemplate>
            </TabItem>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Akademik Bilgiler"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <OgrenciDuzenle AkademikToOgrenci="TabDegis" _OgrenciDto="_OgrenciDto"></OgrenciDuzenle>
                </ContentTemplate>
            </TabItem>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Ders Kayıt"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <DersKayit _OgrenciDto="_OgrenciDto"></DersKayit>
                </ContentTemplate>
            </TabItem>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Dersler"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <OgrenciDersler></OgrenciDersler>
                </ContentTemplate>
            </TabItem>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Notlar"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <OgrenciNotlar></OgrenciNotlar>
                </ContentTemplate>
            </TabItem>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Nûfus Bilgileri"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <OgrenciNufus _OgrenciDto="_OgrenciDto"></OgrenciNufus>
                </ContentTemplate>
            </TabItem>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Askerlik Bilgileri"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <OgrenciAskerlik _OgrenciDto="_OgrenciDto"></OgrenciAskerlik>
                </ContentTemplate>
            </TabItem>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Ösym Bilgileri"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <OgrenciOsym _OgrenciDto="_OgrenciDto"></OgrenciOsym>
                </ContentTemplate>
            </TabItem>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Harç Bilgileri ?"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <OgrenciOsym _OgrenciDto="_OgrenciDto"></OgrenciOsym>
                </ContentTemplate>
            </TabItem>
            <TabItem>
                <ChildContent>
                    <TabHeader Text="Diğer Bilgiler" IconCss="e-icons e-Menu" IconPosition="right"></TabHeader>
                </ChildContent>
                <ContentTemplate>
                    <OgrenciDiger _OgrenciDto="_OgrenciDto"></OgrenciDiger>
                </ContentTemplate>
            </TabItem>
        </TabItems>
    </SfTab>
</div>




@code{

    SfTab Tab;
    public OgrenciDto _OgrenciDto { get; set; } = new OgrenciDto();

    public void TabDegis(int tabIndex)
    {
        Tab.EnableTab(0, true);
        Tab.EnableTab(1, tabIndex > 0);
        Tab.EnableTab(2, tabIndex > 0);
        Tab.EnableTab(3, tabIndex > 0);
        Tab.EnableTab(4, tabIndex > 0);
        Tab.EnableTab(5, tabIndex > 0);
        Tab.EnableTab(6, tabIndex > 0);
        Tab.EnableTab(7, tabIndex > 0);
        Tab.Select(tabIndex);
    }

    public void OgrenciToAkademik(OgrenciDto ogrenciDto)
    {
        _OgrenciDto = ogrenciDto;
        TabDegis(1);
    }

    public void TabCreate()
    {
        Tab.EnableTab(0, true);
        Tab.EnableTab(1, false);
        Tab.EnableTab(2, false);
        Tab.EnableTab(3, false);
        Tab.EnableTab(4, false);
        Tab.EnableTab(5, false);
        Tab.EnableTab(6, false);
        Tab.EnableTab(7, false);
    }

    public async void onDonemChange()
    {
        await Tab.Select(Tab.SelectedItem);
    }

    //public void OnTabSelected(SelectEventArgs args)
    //{
    //    StateHasChanged();
    //}
    public void OnTabSelecting(SelectingEventArgs args)
    {
        if (args.IsSwiped)
        {
            args.Cancel = true;
        }
    }
}




<style>
    /*.tab_content .e-content .e-item {
        font-size: 12px;
        padding: 10px;
        text-align: justify;
        background-color: red;
    }*/

    .e-tab .e-tab-header::before {
        border-color: #69e0f0;
        border-style: solid;
    }

    .e-tab .e-tab-header .e-toolbar-item.e-active {
        border: 1px solid #dee2e6;
        background-color: #69e0f0;
    }

    .e-tab .e-tab-header:not(.e-vertical) .e-toolbar-item.e-active {
        border-bottom: 1px solid #69e0f0;
    }
    .e-DoubleArrowRight:before {
        content: '\e7bb';
        color: #e83e8c;
    }
    .e-Menu:before {
        content: '\e7cd';
        color: #e83e8c;
    }
</style>